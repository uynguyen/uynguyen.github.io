<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Series React Native and BLE: Part 2 - Building BLE framework for Android - Uy Nguyen</title><meta description="When it comes to mobile technology, iOS and Android are the two dominant operating systems that power the majority of smartphones and tablets worldwide. As developers, it is essential that we have th"><meta property="og:type" content="blog"><meta property="og:title" content="Series React Native and BLE: Part 2 - Building BLE framework for Android"><meta property="og:url" content=":year/:month/:day/:title/"><meta property="og:site_name" content="Uy Nguyen"><meta property="og:description" content="When it comes to mobile technology, iOS and Android are the two dominant operating systems that power the majority of smartphones and tablets worldwide. As developers, it is essential that we have th"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2022-02-13T03:57:24.000Z"><meta property="article:modified_time" content="2024-03-23T03:54:36.082Z"><meta property="article:author" content="Uy Nguyen"><meta property="article:tag" content="BLE"><meta property="article:tag" content="Android"><meta property="article:tag" content="Bluetooth"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/Post-Resources/RN-BLE/cover2.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://uynguyen.github.io/2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/"},"headline":"Uy Nguyen","image":["https://uynguyen.github.io/Post-Resources/RN-BLE/cover2.png","https://uynguyen.github.io/Post-Resources/RN-BLE/android_import_module.png","https://uynguyen.github.io/Post-Resources/RN-BLE/android_new_module.png","https://uynguyen.github.io/Post-Resources/RN-BLE/android_scan_result.png"],"datePublished":"2022-02-13T03:57:24.000Z","dateModified":"2024-03-23T03:54:36.082Z","author":{"@type":"Person","name":"Uy Nguyen"},"description":"When it comes to mobile technology, iOS and Android are the two dominant operating systems that power the majority of smartphones and tablets worldwide. As developers, it is essential that we have th"}</script><link rel="canonical" href="https://uynguyen.github.io/2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/"><link rel="icon" href="/Post-Resources/UyNguyen.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><meta property="og:image" content="/Post-Resources/RN-BLE/cover2.png"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163508356-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163508356-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><div class="navbar-item has-dropdown is-hoverable language-switcher is-hidden-mobile"><a class="navbar-link" title="Language"><i class="fas fa-globe"></i></a><div class="navbar-dropdown is-right"><a class="navbar-item is-active" href="/2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/">English</a><a class="navbar-item" href="/vi/posts/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/">Ti·∫øng Vi·ªát</a><a class="navbar-item" href="/es/posts/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/">Espa√±ol</a></div></div><a class="navbar-item search is-hidden-mobile" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><div class="mobile-toolbar is-hidden-tablet"><div class="container"><div class="mobile-toolbar-content"><button class="mobile-toolbar-btn" id="mobile-lang-btn" title="Language"><i class="fas fa-globe"></i><span>English</span></button><button class="mobile-toolbar-btn search" title="Search"><i class="fas fa-search"></i><span>Search</span></button></div></div></div><div class="language-picker-overlay" id="lang-picker-overlay"><div class="language-picker-backdrop"></div><div class="language-picker-modal"><div class="language-picker-header"><span>Language</span><button class="language-picker-close" id="lang-picker-close"><i class="fas fa-times"></i></button></div><div class="language-picker-options"><a class="language-picker-option is-active" href="/2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/"><span class="lang-name">English</span><i class="fas fa-check"></i></a><a class="language-picker-option" href="/vi/posts/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/"><span class="lang-name">Ti·∫øng Vi·ªát</span></a><a class="language-picker-option" href="/es/posts/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/"><span class="lang-name">Espa√±ol</span></a></div></div></div><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"></div></div><h1 class="title is-3 is-size-4-mobile">Series React Native and BLE: Part 2 - Building BLE framework for Android</h1><div class="content"><p><img src="/Post-Resources/RN-BLE/cover2.png" alt=""></p>
<p>When it comes to mobile technology, iOS and Android are the two dominant operating systems that power the majority of smartphones and tablets worldwide. As developers, it is essential that we have the knowledge and tools to work with both platforms effectively. This is especially true when it comes to utilizing Bluetooth technology, which is a crucial component of many modern mobile applications.<br>In part 1 of this tutorial series, we created a BLE (Bluetooth Low Energy) framework that could be connected to the UI using React Native. However, this framework only worked on iOS, which meant that we needed to develop a separate solution for Android.<br>In part 2 of this tutorial series, we will be focusing on defining a new SDK for Android and linking it to the UI, just as we did on iOS. This will allow us to fully support both operating systems and provide a seamless Bluetooth experience for all users, regardless of their device of choice.</p>
<a id="more"></a>

<h2 id="Create-new-Android-SDK"><a href="#Create-new-Android-SDK" class="headerlink" title="Create new Android SDK"></a>Create new Android SDK</h2><p>The very first step is to create your own Bluetooth library. Normally, engineers tend to use an open-source library such as <a href="https://github.com/dariuszseweryn/RxAndroidBle">RxAndroidBle</a> or <a href="https://github.com/NordicSemiconductor/Android-BLE-Library">Android-BLE-Library powered by Nordic</a>. However, the main goal of this tutorial is to guide you on how to create a new Android module and link it to React Native. This not only applies to Bluetooth but also to any library that you need to use in your app. The other goal is to gain foundational knowledge of Android BLE in case you need to modify something or create your own feature that has not been supported in the market.</p>
<p>By creating your own Bluetooth library, you have the freedom to customize and tailor the library to your specific needs. This can provide significant advantages over using pre-existing libraries, as you can optimize the library for your particular use case and avoid potential compatibility issues.</p>
<p>From your project, go to <code>File &gt; New &gt; New Module &gt; Fill in the information</code>.<br>A new library will be added to your project.</p>
<p><img src="/Post-Resources/RN-BLE/android_import_module.png" alt=""><br><img src="/Post-Resources/RN-BLE/android_new_module.png" alt=""></p>
<p>One major different thing from Android and iOS is that from Android 6.0, Google requires the <code>Location Permission</code> to be enabled for Bluetooth Low Energy Scanning (See more <a href="https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id">Android 6.0 Changes</a>).</p>
<p>Next, add the following permissions to your <code>AndroidManifest.xml</code> at <code>android/app/src/main/AndroidManifest.xml</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name=<span class="string">"android.permission.BLUETOOTH"</span> /&gt;</span><br><span class="line">&lt;uses-permission android:name=<span class="string">"android.permission.BLUETOOTH_ADMIN"</span> /&gt;</span><br><span class="line">&lt;uses-permission android:name=<span class="string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><figcaption><span>note:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Android 12 update:</span><br><span class="line">From Android 12 (API level 31+):</span><br><span class="line">- Google requires new permission for scanning nearby devices:</span><br><span class="line">   + If your app looks for Bluetooth devices, such as BLE peripherals, declare the BLUETOOTH_SCAN permission.</span><br><span class="line">   + If your app communicates with already-paired Bluetooth devices, declare the BLUETOOTH_CONNECT permission.</span><br><span class="line">- If your app does not use Bluetooth scan results for physical location, you can skip declaring location permission by adding &#96;android:usesPermissionFlags&#96;</span><br></pre></td></tr></table></figure>

<p>For demo purposes, the SDK exposes only 2 simple APIs <code>startScan</code> to start scanning nearby devices and <code>isBluetoothOn</code> to check if the Bluetooth is turned on.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">Start scanning nearby devices.</span><br><span class="line">Accept &#96;callback&#96; as param and return found devices via &#96;callback&#96;</span><br><span class="line">*&#x2F;</span><br><span class="line">fun startScan(callback: (device: Device) -&gt; Unit)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">Check if BLE is ready for scanning</span><br><span class="line">*&#x2F;</span><br><span class="line">fun isBluetoothOn() : Boolean</span><br></pre></td></tr></table></figure>

<p>To request permission on React Native, we‚Äôre going to use this module <a href="https://github.com/zoontek/react-native-permissions">https://github.com/zoontek/react-native-permissions</a> to get the permissions the app needs.</p>
<h2 id="Build-and-release-Android-SDK-module"><a href="#Build-and-release-Android-SDK-module" class="headerlink" title="Build and release Android SDK module"></a>Build and release Android SDK module</h2><p>Next, let‚Äôs distribute the module so that other applications can use it.<br>From the root folder, run <code>./gradlew kTrackingSDK:assembleRelease</code> to generate an .aar file.<br>The output file will be located at <code>./KTrackingSDK/build/outputs/aar</code>, then you can import the .aar file to the <code>android</code> project.</p>
<h2 id="Connect-to-React-Native-part"><a href="#Connect-to-React-Native-part" class="headerlink" title="Connect to React Native part"></a>Connect to React Native part</h2><p>Now, we‚Äôve already had the Bluetooth lib. The next step is to link the module to the React Native part.</p>
<p>Firstly, React Native part needs to understand the Native module. Add the following config to your <code>/src/main/java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class BLEManager(context: ReactApplicationContext) : ReactContextBaseJavaModule(context) &#123;</span><br><span class="line">   init &#123;</span><br><span class="line">      Log.d(<span class="string">"BLEManager"</span>, <span class="string">"Init package"</span>)</span><br><span class="line">      BLEManagerLib.shared.config(context)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">override fun <span class="title">getName</span><span class="params">()</span>: String </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"BLEManager"</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@ReactMethod</span></span><br><span class="line">   <span class="function">fun <span class="title">isBluetoothOn</span><span class="params">(promise: Promise)</span> </span>&#123;</span><br><span class="line">      promise.resolve(BLEManagerLib.shared.isBluetoothOn())</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@ReactMethod</span></span><br><span class="line">   <span class="function">fun <span class="title">startScanning</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      Log.d(<span class="string">"BLEManager"</span>, <span class="string">"Start scanning"</span>)</span><br><span class="line">      BLEManagerLib.shared.startScan &#123;</span><br><span class="line">         val params: WritableMap = Arguments.createMap()</span><br><span class="line">         params.putString(<span class="string">"name"</span>, it.name)</span><br><span class="line">         params.putInt(<span class="string">"rssi"</span>, it.rssi)</span><br><span class="line">         params.putString(<span class="string">"address"</span>, it.address)</span><br><span class="line">         <span class="keyword">this</span>.reactApplicationContext</span><br><span class="line">                  .getJSModule(RCTDeviceEventEmitter::<span class="class"><span class="keyword">class</span>.<span class="title">java</span>)</span></span><br><span class="line">                  .emit("didFoundDevice", params)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Creating new file to define the <code>BLEManagerPackage</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class BLEManagerPackage: ReactPackage &#123;</span><br><span class="line">   <span class="function">override fun <span class="title">createNativeModules</span><span class="params">(reactContext: ReactApplicationContext)</span>: MutableList&lt;NativeModule&gt; </span>&#123;</span><br><span class="line">      val modules = ArrayList&lt;NativeModule&gt;()</span><br><span class="line">      modules.add(BLEManager(reactContext))</span><br><span class="line">      <span class="keyword">return</span> modules</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">override fun <span class="title">createViewManagers</span><span class="params">(reactContext: ReactApplicationContext)</span>: MutableList&lt;ViewManager&lt;View, ReactShadowNode&lt;*&gt;&gt;&gt; </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> ArrayList()</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Next, add it to the package list in <code>MainApplication.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> <span class="keyword">implements</span> <span class="title">ReactApplication</span> </span>&#123;</span><br><span class="line">   ...</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> List&lt;ReactPackage&gt; <span class="title">getPackages</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      Log.d(<span class="string">"BLEManager"</span>, <span class="string">"Running"</span>);</span><br><span class="line">      <span class="meta">@SuppressWarnings</span>(<span class="string">"UnnecessaryLocalVariable"</span>)</span><br><span class="line">      List&lt;ReactPackage&gt; packages = <span class="keyword">new</span> PackageList(<span class="keyword">this</span>).getPackages();</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* Add your custom modules here */</span></span><br><span class="line">      packages.add(<span class="keyword">new</span> BLEManagerPackage());</span><br><span class="line">      <span class="comment">/* */</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> packages;</span><br><span class="line">   &#125;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Finally, the app needs to ask users to grant permission.</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line"><span class="comment">// somewhere in your code</span></span><br><span class="line"><span class="keyword">import</span> &#123; check, PERMISSIONS, request, RESULTS &#125; from <span class="string">'react-native-permissions'</span>;</span><br><span class="line"></span><br><span class="line">checkPermission = () =&gt; &#123;</span><br><span class="line">   check(PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION)</span><br><span class="line">   .then((result) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (result !== RESULTS.GRANTED) &#123;</span><br><span class="line">         requestLocation(() =&gt; &#123;</span><br><span class="line">            <span class="comment">// On granted</span></span><br><span class="line">         &#125;, () =&gt; &#123;</span><br><span class="line">            <span class="comment">// On denied</span></span><br><span class="line">         &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   .<span class="keyword">catch</span>((error) =&gt; &#123;</span><br><span class="line">      <span class="comment">// ‚Ä¶</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">requestLocation = (grantedCallback, deniedCallback) =&gt; &#123;</span><br><span class="line">   request(PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION).then(result =&gt; &#123;</span><br><span class="line">   <span class="keyword">switch</span> (result) &#123;</span><br><span class="line">      <span class="keyword">case</span> RESULTS.DENIED:</span><br><span class="line">         console.log(<span class="string">'User denied permission'</span>,);</span><br><span class="line">         deniedCallback();</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> RESULTS.GRANTED:</span><br><span class="line">         console.log(<span class="string">'The permission is granted'</span>);</span><br><span class="line">         grantedCallback();</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>Since we use the same code for both Android and iOS in the React Native part, there is no need to modify the React Native code from the previous tutorial. As long as you follow to the protocol we defined, everything should function as intended.</p>
<p>By maintaining a consistent protocol across both platforms, we can ensure that the code is easily portable and that any changes made to one platform will not affect the other. This can significantly streamline the development process and reduce the risk of errors or compatibility issues.</p>
<p><img src="/Post-Resources/RN-BLE/android_scan_result.png" alt=""></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>After spending countless hours researching and experimenting, we have finally learned how to create our own Bluetooth library and use it in our React Native project. With this newfound knowledge, the process of adding new features has become significantly easier and more efficient. We only need to implement the logic in Native Code instead of having to develop the UI part twice.</p>
<p>This has not only saved us a tremendous amount of time and effort but also allowed us to focus more on enhancing the functionality of our app. We can now dedicate more resources to developing new features, optimizing existing ones, and improving the overall user experience.</p>
<p>Moreover, our newfound ability to create custom libraries has opened up a whole new world of possibilities for our development team. We can now leverage our knowledge of React Native to create even more advanced and innovative features, all while maintaining a streamlined development process.</p>
<p>Happy coding!</p>
<h2 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h2><ul>
<li><a href="https://reactnative.dev/docs/native-modules-android">Android Native Modules</a>.</li>
<li><a href="https://developer.android.com/guide/topics/connectivity/bluetooth/permissions">Android Bluetooth permissions</a>.</li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/BLE/">BLE</a><a class="link-muted mr-2" rel="tag" href="/tags/Android/">Android</a><a class="link-muted mr-2" rel="tag" href="/tags/Bluetooth/">Bluetooth</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9474199d6bcc0012d5bba6&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://ko-fi.com/uynguyen" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="uynguyen.itus@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/03/26/Fork-and-publish-your-custom-lib-to-npm/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Fork and publish your custom lib to npm - React Native Wheel Picker</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/12/25/Series-React-Native-and-BLE-Part-1-Building-BLE-framework-for-iOS/"><span class="level-item">Series React Native and BLE: Part 1 - Building BLE framework for iOS</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://uynguyen.github.io/2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/';
            this.page.identifier = '2022/02/13/Series-React-Native-and-BLE-Part-2-Building-BLE-framework-for-Android/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'uynguyen-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen"></figure><p class="title is-size-4 is-block line-height-inherit">Uy Nguyen</p><p class="is-size-6 is-block">Software engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-envelope mr-1"></i><span>uynguyen.itus@gmail.com</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">59</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">36</p></a></div></div></nav><div class="level"><a class="level-item button is-rounded" style="background-color:#f14668e3;color:white;font-weight:bold;" href="https://ko-fi.com/uynguyen" target="_blank" rel="noopener">if üëç then Buy me a Coffee</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/uynguyen"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://www.linkedin.com/in/uynguyen505"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://uynguyen.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Uy Nguyen</span></span><span class="level-right"><span class="level-item tag">uynguyen.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2026-01-31T03:00:00.000Z">2026-01-31</time></p><p class="title is-6"><a class="link-muted" href="/2026/01/31/Bluetooth-Callback-vs-Reactive-Programming/">Bluetooth Development: Callback vs Reactive Programming</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2025-04-02T11:03:38.000Z">2025-04-02</time></p><p class="title is-6"><a class="link-muted" href="/2025/04/02/Bluetooth-security-Implement-authentication/">Securing Bluetooth Communication: Implementing Authentication and Encryption Flows</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-11-03T03:33:53.000Z">2024-11-03</time></p><p class="title is-6"><a class="link-muted" href="/2024/11/03/iOS-18-What-s-news-in-CoreBluetooth/">iOS 18: What&#039;s news in CoreBluetooth?</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-31T03:38:32.000Z">2024-08-31</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/31/Bluetooth-security-Pairing-and-Bonding/">Bluetooth security: Pairing and Bonding</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-04T05:10:39.000Z">2024-08-04</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/04/Android-Bluetooth-A-Pitfall/">Android Bluetooth: A Pitfall</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Appclip/"><span class="tag">Appclip</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BLE/"><span class="tag">BLE</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bluetooth/"><span class="tag">Bluetooth</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Books/"><span class="tag">Books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocoa/"><span class="tag">Cocoa</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Concurrency/"><span class="tag">Concurrency</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Conference/"><span class="tag">Conference</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Core-Data/"><span class="tag">Core Data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CoreBluetooh/"><span class="tag">CoreBluetooh</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CrossPlatform/"><span class="tag">CrossPlatform</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design-Patterns/"><span class="tag">Design Patterns</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DispatchQueue/"><span class="tag">DispatchQueue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Memory-management/"><span class="tag">Memory management</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Notification/"><span class="tag">Notification</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Objective-C/"><span class="tag">Objective-C</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operations/"><span class="tag">Operations</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ReactNative/"><span class="tag">ReactNative</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reactive/"><span class="tag">Reactive</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxJava/"><span class="tag">RxJava</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxSwift/"><span class="tag">RxSwift</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Architecture/"><span class="tag">Software Architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI/"><span class="tag">UI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UIStackView/"><span class="tag">UIStackView</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vendor/"><span class="tag">Vendor</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WatchOS/"><span class="tag">WatchOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web-Bluetooth/"><span class="tag">Web Bluetooth</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iBeacon/"><span class="tag">iBeacon</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a><p class="size-small"><span>&copy; Uy Nguyen</span>¬†¬†Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>¬†&amp;¬†<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://uynguyen.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">√ó</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>