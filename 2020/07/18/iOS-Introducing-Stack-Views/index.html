<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>iOS: Introducing Stack Views Programmatically - Uy Nguyen</title><meta description="As your iOS development skill is growing, I believe you use UIScrollView, UICollectionView, UITableView, and other native views regularly and proficiently in your applications. Yet, some iOS develope"><meta property="og:type" content="blog"><meta property="og:title" content="iOS: Introducing Stack Views Programmatically"><meta property="og:url" content=":year/:month/:day/:title/"><meta property="og:site_name" content="Uy Nguyen"><meta property="og:description" content="As your iOS development skill is growing, I believe you use UIScrollView, UICollectionView, UITableView, and other native views regularly and proficiently in your applications. Yet, some iOS develope"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2020-07-18T10:00:08.000Z"><meta property="article:modified_time" content="2020-07-31T04:12:47.475Z"><meta property="article:author" content="Uy Nguyen"><meta property="article:tag" content="iOS"><meta property="article:tag" content="UI"><meta property="article:tag" content="UIStackView"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/Post-Resources/StackView/stackview.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://uynguyen.github.io/2020/07/18/iOS-Introducing-Stack-Views/"},"headline":"Uy Nguyen","image":["https://uynguyen.github.io/Post-Resources/StackView/stackview.png","https://uynguyen.github.io/Post-Resources/StackView/demo.gif","https://uynguyen.github.io/Post-Resources/StackView/StackViewProps.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/fill.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/center.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/top.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/bottom.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/firstbaseline.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/lastbaseline.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/first_baseline.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/last_baseline.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/leading.png","https://uynguyen.github.io/Post-Resources/StackView/h_alighment/trailing.png","https://uynguyen.github.io/Post-Resources/StackView/h_distribution/fill.png","https://uynguyen.github.io/Post-Resources/StackView/h_distribution/equally.png","https://uynguyen.github.io/Post-Resources/StackView/h_distribution/proportionally.png","https://uynguyen.github.io/Post-Resources/StackView/h_distribution/equalspacing.png","https://uynguyen.github.io/Post-Resources/StackView/h_distribution/equalcentering.png","https://uynguyen.github.io/Post-Resources/StackView/login.png","https://uynguyen.github.io/Post-Resources/StackView/login2.png","https://uynguyen.github.io/Post-Resources/StackView/dynamic.png"],"datePublished":"2020-07-18T10:00:08.000Z","dateModified":"2020-07-31T04:12:47.475Z","author":{"@type":"Person","name":"Uy Nguyen"},"description":"As your iOS development skill is growing, I believe you use UIScrollView, UICollectionView, UITableView, and other native views regularly and proficiently in your applications. Yet, some iOS develope"}</script><link rel="canonical" href="https://uynguyen.github.io/2020/07/18/iOS-Introducing-Stack-Views/"><link rel="icon" href="/Post-Resources/UyNguyen.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><meta property="og:image" content="/Post-Resources/StackView/stackview.png"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163508356-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163508356-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-18T10:00:08.000Z" title="2020-07-18T10:00:08.000Z">2020-07-18</time><span class="level-item">12 minutes read (About 1827 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">iOS: Introducing Stack Views Programmatically</h1><div class="content"><p><img src="/Post-Resources/StackView/stackview.png" alt="" title="Banner"></p>
<p>As your iOS development skill is growing, I believe you use <code>UIScrollView</code>, <code>UICollectionView</code>, <code>UITableView</code>, and other native views regularly and proficiently in your applications. Yet, some iOS developers still don’t know what exactly <code>UIStackView</code> is, what it uses for or in which situation should we use <code>UIStackView</code>.<br>In this tutorial, I will introduce you to <code>UIStackView</code> - A view helps us to simplify our iOS layouts.</p>
<p>Let’s imagine you’re going to build an application that allows the user to add or remove views in run time. Remember how we will accomplish this task? We first have to remove all constraints in the relative area and update them all over again. Or remember the case where you implement the sign-in / sign-up view, you add many text fields and manually set constraints between those views. In such situations, <code>UIStackView</code> appears to be more useful than other views.</p>
<a id="more"></a> 

<p>To demonstrate how to apply <code>UIStackView</code> to your projects, we’re going to build a simple application that allows the user to control smart devices in their home; Users can add or remove which room they want it to show in their list of control. The main key here is all actions of the user are executed in runtime dynamically. Additionally, instead of using Storyboard in this project, I’m going to use code dynamically along with the help of the AutoLayout framework (<a href="https://github.com/SnapKit/SnapKit">SnapKit</a> - it is just a matter of preference). Let’s put aside other complex implementation, the application contains only two views: A login view and a home page. Also, there will be no logic code at all.</p>
<center>

<p><img src="/Post-Resources/StackView/demo.gif" alt="" title="Demo"></p>
</center>

<h2 id="Key-properties"><a href="#Key-properties" class="headerlink" title="Key properties"></a>Key properties</h2><p>To understand how a Stack View work, we first need to have a look at its properties. No matter what kind of the Stack View is (Horizontal or Vertical), there are four main properties: <strong>Axis</strong>, <strong>Spacing</strong>, <strong>Alignment</strong>, and <strong>Distribution</strong>.  The following image summarizes the relative among those attributes.</p>
<p><img src="/Post-Resources/StackView/StackViewProps.png" alt="" title="Props"></p>
<ul>
<li><strong>Axis</strong>: determines the stack’s orientation, including Horizontal and Vertical.</li>
<li><strong>Spacing</strong>: determines the minimum space between the stack’s views.</li>
<li><strong>Alignment</strong>: determines the layout of the stack’s views perpendicular to its axis.<br>Both horizontal and vertical stack views have the <code>Fill</code> and <code>Center</code> options.<ul>
<li>Fill: Stack’s arranged views will be resized so that they fit the stack view perpendicularly to its axis. The leading and trailing edges of vertically stacked items or the top and bottom edges of horizontally, respectively.</li>
<li>Center: As the name suggests, center the stack’s views horizontally (Vertical stack) or vertically (Horizontal stack).</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Fill</th>
<th align="center">Center</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/fill.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/center.png" alt=""></td>
</tr>
</tbody></table>
<p>There are some alignment options applied only for horizontal stack views:</p>
<ul>
<li>Top: As the name suggests, center the stack’s views horizontally (Vertical stack) or vertically (Horizontal stack).</li>
<li>Bottom: As the name suggests, center the stack’s views horizontally (Vertical stack) or vertically (Horizontal stack).</li>
<li>First baseline: A layout where the stack view aligns its arranged views based on their first baseline.</li>
<li>Last baseline: A layout where the stack view aligns its arranged views based on their last baseline.</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Top</th>
<th align="center">Bottom</th>
<th align="center">First baseline</th>
<th align="center">Last baseline</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/top.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/bottom.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/firstbaseline.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/lastbaseline.png" alt=""></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/first_baseline.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/last_baseline.png" alt=""></td>
</tr>
</tbody></table>
<p>Similarly, there are some alignment options worked for vertical stack views only:</p>
<ul>
<li><p>Leading: The stack view aligns the leading edge (Left) of its arranged views along its leading edge. Similar to top alignment for horizontal stacks.</p>
</li>
<li><p>Trailing: The stack view aligns the trailing edge (Right) of its arranged views along its leading edge. Similar to bottom alignment for horizontal stacks.</p>
<table>
<thead>
<tr>
<th align="center">Leading</th>
<th align="center">Trailing</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/leading.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_alighment/trailing.png" alt=""></td>
</tr>
</tbody></table>
</li>
<li><p><strong>Distribution</strong>: determines the layout of the stack’s views along its axis. The subviews are all resized based on this setting.</p>
<ul>
<li>Fill: This is set as the default distribution when a Stack View is created. When we put views inside a UIStackView with Fill set as the distribution, it will keep trying to stretch the size one of the views to fill the space.<br>So the question is, what criteria will it base on to choose the view to resize? <strong>Content Hugging Priority (CHP)</strong> will be. To determine which view will be stretched, the stack view will rely on CHP for evaluation, the lower its priority, the more likely it is to be chosen. If all the views have the same CHP, the first one will be picked.</li>
<li>Fill Equally: Each control in a UIStackView will be of equal size.</li>
<li>Fill Proportionally: All the controls need to have an intrinsic content size, Stack view will ensure the controls maintain the same proportion.</li>
<li>Equal Spacing: This distribution type will maintain equal spacing between the subviews.</li>
<li>Equal Centering: This distribution type will maintain an equal space between the center of the subviews.</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Fill</th>
<th align="center">Fill Equally</th>
<th align="center">Fill Proportionally</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/Post-Resources/StackView/h_distribution/fill.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_distribution/equally.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_distribution/proportionally.png" alt=""></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">Equal Spacing</th>
<th align="center">Equal Centering</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/Post-Resources/StackView/h_distribution/equalspacing.png" alt=""></td>
<td align="center"><img src="/Post-Resources/StackView/h_distribution/equalcentering.png" alt=""></td>
</tr>
</tbody></table>
<blockquote>
<p>Note: <code>UIStackView</code> is a non-rendering view, which means you can not set the background-color property, or override the <code>draw</code> method, etc.</p>
</blockquote>
<h2 id="Take-to-practice"><a href="#Take-to-practice" class="headerlink" title="Take to practice"></a>Take to practice</h2><p>Now, with that knowledge in mind, we’re going to apply it to an existed project that currently does not use <code>UIStackView</code> to arrange its view at all. By applying <code>UIStackView</code> into practice, we will really get an understanding of how a <code>UIStackView</code> works and what problems it can resolve.</p>
<h3 id="Auto-arrange-views"><a href="#Auto-arrange-views" class="headerlink" title="Auto arrange views"></a>Auto arrange views</h3><p>The first thing <code>UIStackView</code> brings to us is the freedom from setting constraints for all views.<br>The login view is quite simple, it contains two text fields, a login button and some text labels.</p>
<p><img src="/Post-Resources/StackView/login.png" alt="" title="Log in view"></p>
<p>Without using <code>UIStackView</code>, we have to manually set constraints for all those text fields. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">view.addSubview(lblLogin)</span><br><span class="line">lblLogin.snp.makeConstraints &#123; (make) <span class="keyword">in</span></span><br><span class="line">    make.centerX.equalToSuperview()</span><br><span class="line">    make.centerY.equalToSuperview().offset(-<span class="number">250</span>)</span><br><span class="line">    make.<span class="keyword">left</span>.equalToSuperview().offset(<span class="number">20</span>)</span><br><span class="line">    make.<span class="keyword">right</span>.equalToSuperview().offset(-<span class="number">20</span>)</span><br><span class="line">    make.height.equalTo(<span class="number">30</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">view.addSubview(lblUsername)</span><br><span class="line">lblUsername.snp.makeConstraints &#123; (make) <span class="keyword">in</span></span><br><span class="line">    make.centerX.<span class="keyword">left</span>.<span class="keyword">right</span>.equalTo(lblLogin)</span><br><span class="line">    make.top.equalTo(lblLogin.snp.bottom).offset(<span class="number">30</span>)</span><br><span class="line">    make.height.equalTo(<span class="number">30</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">view.addSubView(btnLogin)</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="comment">// The rest omitted</span></span><br></pre></td></tr></table></figure>

<p>But it’s still not a nightmare. Imagine now you want to add some other views, such as a label and a switch view to allow the user to remember the login session. We now have to alter all other views to insert those new views to the right place on the screen!</p>
<p><img src="/Post-Resources/StackView/login2.png" alt="" title="Log in view"></p>
<p>The task will be easier and simpler if we use <code>StackView</code>. Now let see how we can do it.<br>First, let’s add a new property to the Log in view controller.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> stackView: <span class="type">UIStackView</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> stack = <span class="type">UIStackView</span>()</span><br><span class="line">    stack.axis = .vertical</span><br><span class="line">    stack.spacing = <span class="number">20.0</span></span><br><span class="line">    stack.alignment = .fill</span><br><span class="line">    stack.distribution = .fillEqually</span><br><span class="line">    [<span class="keyword">self</span>.lblUsername,</span><br><span class="line">        <span class="keyword">self</span>.txtUserName,</span><br><span class="line">        <span class="keyword">self</span>.lblPassword,</span><br><span class="line">        <span class="keyword">self</span>.txtPassword,</span><br><span class="line">        <span class="keyword">self</span>.btnLogin].forEach &#123; stack.addArrangedSubview($<span class="number">0</span>) &#125; [<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> stack</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<p>Notice at [1], this is how we add arraged views to a stack view. Then, we just need to set contraints for the stackView.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">   view.addSubview(stackView)</span><br><span class="line">   stackView.snp.makeConstraints &#123; (make) <span class="keyword">in</span></span><br><span class="line">       make.centerX.<span class="keyword">left</span>.<span class="keyword">right</span>.equalTo(lblLogin)</span><br><span class="line">       make.top.equalTo(lblLogin.snp.bottom).offset(<span class="number">30</span>)</span><br><span class="line">       make.height.equalTo(<span class="number">280</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the future, if we want to add new views, we just need to put it to the arranged views array. As below.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> keepLoginStackView: <span class="type">UIStackView</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> stackView = <span class="type">UIStackView</span>()</span><br><span class="line">    stackView.axis = .horizontal</span><br><span class="line">    stackView.alignment = .trailing</span><br><span class="line">    stackView.distribution = .fill</span><br><span class="line">    [<span class="keyword">self</span>.lblRememberMe,</span><br><span class="line">        <span class="keyword">self</span>.swKeepLogin].forEach &#123; stackView.addArrangedSubview($<span class="number">0</span>) &#125;</span><br><span class="line">    <span class="keyword">return</span> stackView</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">self</span>.txtPassword,</span><br><span class="line"><span class="keyword">self</span>.keepLoginStackView,</span><br><span class="line"><span class="keyword">self</span>.btnLogin].forEach &#123; stack.addArrangedSubview($<span class="number">0</span>) &#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>Can you see the differences? The codebase now is cleaner and more maintainable than the old one, isn’t it?</p>
<h3 id="Dynamic-views"><a href="#Dynamic-views" class="headerlink" title="Dynamic views"></a>Dynamic views</h3><p>Now switch to the case where we will implement the Home page of the application.<br>When the user presses the right button of the screen, a new view, which represents for a room to be controlled in this case, will be placed on the main page. The user can also remove any rooms in the list by pressing the “Remove” button. Inside each room, there is a “Hide” / “Show” button that allows hiding and showing the room image. Remember in the past where you have to implement a similar feature in your app without using <code>UIStackView</code>, what will you do? Somewhat painful! We first need to remove all constraints in the relative area and update them all over again.</p>
<p>Here is what we’re going to do with <code>UIStackView</code>, the main page contains a vertical stack view embedded inside a scroll view. Whenever the Add button is pressed, a new <code>TaskView</code> view will be added to this stack view.</p>
<p><img src="/Post-Resources/StackView/dynamic.png" alt="" title="Dynamic View"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addMoreView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> view = <span class="type">TaskView</span>(delegate: <span class="keyword">self</span>, data: room[<span class="type">Int</span>.random(<span class="keyword">in</span>: <span class="number">0</span>..&lt;room.<span class="built_in">count</span>)])</span><br><span class="line">    <span class="keyword">let</span> constraint1 = view.heightAnchor.constraint(lessThanOrEqualToConstant: <span class="number">400.0</span>)</span><br><span class="line">    constraint1.isActive = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">self</span>.taskStackView.addArrangedSubview(view)</span><br><span class="line">    <span class="keyword">self</span>.view.layoutIfNeeded()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We also need to set height constraints for this new view. Because the height of the view might be changed when the show/hide button is pressed, we need to define this constraint as <code>lessThanOrEqualToConstant:value</code> so that the stack view can adjust this height constraint.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">onRemove</span><span class="params">(<span class="number">_</span> view: TaskView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> first = <span class="keyword">self</span>.taskStackView.arrangedSubviews.first(<span class="keyword">where</span>: &#123; $<span class="number">0</span> === view &#125;) &#123;</span><br><span class="line">        <span class="type">UIView</span>.animate(withDuration: <span class="number">0.3</span>, animations: &#123;</span><br><span class="line">            first.isHidden = <span class="literal">true</span></span><br><span class="line">            first.removeFromSuperview()</span><br><span class="line">        &#125;) &#123; (<span class="number">_</span>) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When the remove button on a task view is clicked, this view will be removed from the stack view. We can access all arranged views of a stack view by accessing <code>arrangedSubviews</code> property. We first loop for all arranged views and find the appropriate view which have the same address with the sender, then remove it from the super view. Additionally, I make a small animation, <code>UIView.animate(withDuration:animations:)</code>, so that the transition looks more smooth and fancier than the last one.<br>By using the same approach, you can do the same thing when the user clicks on Show / Hide button to show/hide the image view. Let’s take a try by yourself.</p>
<h2 id="Final-though"><a href="#Final-though" class="headerlink" title="Final though"></a>Final though</h2><p>In this tutorial, I introduced you to <code>UIStackView</code> - a subclass of UIView helping to manages the position and size of its arranged views. We also worked through a demonstration that takes <code>UIStackView</code> into practice. Now you get the idea of how the <code>UIStackView</code> works and what the <code>UIStackView</code> uses for, next times try to use <code>UIStackView</code> in your app to leverage its power. I will do, won’t you?<br>You can download the completed demo at <a href="https://github.com/uynguyen/UIStackView">Github</a>,<br>Happy coding!</p>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/iOS/">iOS</a><a class="link-muted mr-2" rel="tag" href="/tags/UI/">UI</a><a class="link-muted mr-2" rel="tag" href="/tags/UIStackView/">UIStackView</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9474199d6bcc0012d5bba6&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://ko-fi.com/uynguyen" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="uynguyen.itus@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/07/12/All-About-Alamofire/"><span class="level-item">All About Alamofire</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://uynguyen.github.io/2020/07/18/iOS-Introducing-Stack-Views/';
            this.page.identifier = '2020/07/18/iOS-Introducing-Stack-Views/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'uynguyen-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen"></figure><p class="title is-size-4 is-block line-height-inherit">Uy Nguyen</p><p class="is-size-6 is-block">Software engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">37</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">27</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/uynguyen" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/uynguyen"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/UyNguyen505"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://www.linkedin.com/in/uynguyen505"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://uynguyen.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Uy Nguyen</span></span><span class="level-right"><span class="level-item tag">uynguyen.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-18T10:00:08.000Z">2020-07-18</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/18/iOS-Introducing-Stack-Views/">iOS: Introducing Stack Views Programmatically</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-12T13:20:11.000Z">2020-07-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/12/All-About-Alamofire/">All About Alamofire</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-06-26T04:54:08.000Z">2020-06-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/06/26/What-s-new-in-iPad-OS-14/">What&#039;s new in iPad OS 14?</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-06-14T14:13:41.000Z">2020-06-14</time></p><p class="title is-6"><a class="link-muted" href="/2020/06/14/Review-book-Building-Applications-With-iBeacon/">Review book: Building Applications With iBeacon</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-30T10:02:31.000Z">2020-05-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/30/Advanced-iOS-Concurrency-Async-Operations-2/">Advanced iOS Concurrency: Async Operations [2]</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/BLE/"><span class="tag">BLE</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Books/"><span class="tag">Books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocoa/"><span class="tag">Cocoa</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Concurrency/"><span class="tag">Concurrency</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Conference/"><span class="tag">Conference</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Core-Data/"><span class="tag">Core Data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CoreBluetooh/"><span class="tag">CoreBluetooh</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CrossPlatform/"><span class="tag">CrossPlatform</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design-Patterns/"><span class="tag">Design Patterns</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DispatchQueue/"><span class="tag">DispatchQueue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Memory-management/"><span class="tag">Memory management</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Objective-C/"><span class="tag">Objective-C</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operations/"><span class="tag">Operations</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ReactNative/"><span class="tag">ReactNative</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Architecture/"><span class="tag">Software Architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI/"><span class="tag">UI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UIStackView/"><span class="tag">UIStackView</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vendor/"><span class="tag">Vendor</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iBeacon/"><span class="tag">iBeacon</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a><p class="size-small"><span>&copy; Uy Nguyen</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://uynguyen.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>