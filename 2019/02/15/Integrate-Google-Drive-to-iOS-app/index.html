<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Integrate Google Drive to iOS app - Uy Nguyen</title><meta description="At Fossil, I’ve had the chance to experiment with Google Drive integration, as a cloud bases storage. The main advantage of using Google Drive is to share with other members easily, with a good web-ba"><meta property="og:type" content="blog"><meta property="og:title" content="Integrate Google Drive to iOS app"><meta property="og:url" content=":year/:month/:day/:title/"><meta property="og:site_name" content="Uy Nguyen"><meta property="og:description" content="At Fossil, I’ve had the chance to experiment with Google Drive integration, as a cloud bases storage. The main advantage of using Google Drive is to share with other members easily, with a good web-ba"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-02-15T13:00:50.000Z"><meta property="article:modified_time" content="2020-04-13T13:13:22.742Z"><meta property="article:author" content="Uy Nguyen"><meta property="twitter:card" content="summary"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://uynguyen.github.io/2019/02/15/Integrate-Google-Drive-to-iOS-app/"},"headline":"Uy Nguyen","image":["https://uynguyen.github.io/Post-Resources/GoogleDrive/GoogleDrive.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/Create_new_project.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/GoogleDriveSearching.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/EnableGoogleDrive.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/AddCredentials.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/ConfigYOUR_REVERSED_CLIENT_ID.png","https://uynguyen.github.io/Post-Resources/GoogleDrive/Crash-01.png"],"datePublished":"2019-02-15T13:00:50.000Z","dateModified":"2020-04-13T13:13:22.742Z","author":{"@type":"Person","name":"Uy Nguyen"},"description":"At Fossil, I’ve had the chance to experiment with Google Drive integration, as a cloud bases storage. The main advantage of using Google Drive is to share with other members easily, with a good web-ba"}</script><link rel="canonical" href="https://uynguyen.github.io/2019/02/15/Integrate-Google-Drive-to-iOS-app/"><link rel="icon" href="/Post-Resources/UyNguyen.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163508356-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163508356-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-02-15T13:00:50.000Z" title="2019-02-15T13:00:50.000Z">2019-02-15</time><span class="level-item">9 minutes read (About 1295 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Integrate Google Drive to iOS app</h1><div class="content"><p><img src="/Post-Resources/GoogleDrive/GoogleDrive.png" alt="" title="Cover"><br>At Fossil, I’ve had the chance to experiment with Google Drive integration, as a cloud bases storage. The main advantage of using Google Drive is to share with other members easily, with a good web-based UI to modify the contents of folders, and it’s free. However, I struggled when trying to make Google Drive work due to lack of documents and articles related to Google Drive APIs, especially in Swift. Additionally, the code and examples on Google’s sites are out of date. Therefore, I decided to write this article with a hope of saving your time when you want to integrate Google Drive to your apps. Let’s get started.</p>
<a id="more"></a> 
<h2 id="Create-your-app-and-Google-API-access"><a href="#Create-your-app-and-Google-API-access" class="headerlink" title="Create your app and Google API access"></a>Create your app and Google API access</h2><p>In order to use Google APIs, firstly we have to go to Google Console Dashboard to create a project. So head to <a href="https://console.cloud.google.com">Google cloud console</a>, click the drop-down menu to create a new project.<br><img src="/Post-Resources/GoogleDrive/Create_new_project.png" alt="" title="Create new project"><br>Your Google Drive API is disabled by default when you create new projects. To enable Google Drive API manually, click on “APIs &amp; Services” item on the left bar side, it will lead you to another page where you can enable Google services for your apps.<br>Click “Enable APIs and services” button, then type to search for “Google drive”, next select Google Drive from results, finally click “Enable” to activate the app.<br><img src="/Post-Resources/GoogleDrive/GoogleDriveSearching.png" alt="" title="Search Google Drive"><br><img src="/Post-Resources/GoogleDrive/EnableGoogleDrive.png" alt="" title="Enable Google Drive"><br>That’s all you need to create an app using Google API.</p>
<h2 id="Add-credential-for-your-iOS-app"><a href="#Add-credential-for-your-iOS-app" class="headerlink" title="Add credential for your iOS app"></a>Add credential for your iOS app</h2><p>Credentials allow your iOS to access your enabled APIs. Click to “Credentials” button on the left sidebar to add your iOS app. Next, input your app information including your app name and bundle id, please note that you need to type exactly the bundle id, otherwise it will not work.<br><img src="/Post-Resources/GoogleDrive/AddCredentials.png" alt="" title="AddCredentials"><br>After creating new credential successfully, you should be able to download the plist file that will contain the keys necessary for setting up your Xcode project. Keep this file in a safe place, we will use it in the next step.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;!<span class="type">DOCTYPE</span> plist <span class="type">PUBLIC</span> <span class="string">"-//Apple//DTD PLIST 1.0//EN"</span> <span class="string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span>&gt;</span><br><span class="line">&lt;plist version=<span class="string">"1.0"</span>&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">	&lt;key&gt;<span class="type">CLIENT_ID</span>&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;<span class="type">YOUR_CLIENT_ID</span>&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;<span class="type">REVERSED_CLIENT_ID</span>&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;<span class="type">YOUR_REVERSED_CLIENT_ID</span>&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;<span class="type">PLIST_VERSION</span>&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;<span class="number">1</span>&lt;/string&gt;</span><br><span class="line">	&lt;key&gt;<span class="type">BUNDLE_ID</span>&lt;/key&gt;</span><br><span class="line">	&lt;string&gt;com.example&lt;/string&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Project-configuration"><a href="#Project-configuration" class="headerlink" title="Project configuration"></a>Project configuration</h2><p><a href="https://github.com/google/google-api-objectivec-client-for-rest">Google APIs Client Library</a> is a library written by Google for accessing Google APIs. Go ahead and add the following library to your Pod file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'GoogleAPIClientForREST/Drive'</span>, <span class="string">'~&gt; 1.2.1'</span></span><br><span class="line">pod <span class="string">'GoogleSignIn'</span>, <span class="string">'~&gt; 4.1.1'</span></span><br></pre></td></tr></table></figure>
<p>You will find <code>YOUR_REVERSED_CLIENT_ID</code> and <code>YOUR_CLIENT_ID</code> in the client configuration plist file that you downloaded previously. Select your target project, go to “Info” tab, add a new item at the “URL Types” section, then input <code>YOUR_REVERSED_CLIENT_ID</code> at the “URL Schemes” box.<br><img src="/Post-Resources/GoogleDrive/ConfigYOUR_REVERSED_CLIENT_ID.png" alt="" title="YOUR_REVERSED_CLIENT_ID"><br>In case you don’t know what URL Schemes use for, every each item in the URL Schemes section allows you to define a custom URL scheme for your app.  For example, your app might let users tapping a custom URL in an email to launch your app in a specified context. By default, Apple supports common schemes associated with system apps like mail, sms, facetime, etc. For more information, please refer to <a href="https://developer.apple.com/documentation/uikit/core_app/allowing_apps_and_websites_to_link_to_your_content/defining_a_custom_url_scheme_for_your_app">Defining a Custom URL Scheme for Your App</a><br>If you don’t add <code>YOUR_REVERSED_CLIENT_ID</code> as a custom URL scheme, your app will get the following crash when trying to authorize with Google API. So make sure you don’t miss this important step.<br><img src="/Post-Resources/GoogleDrive/Crash-01.png" alt="" title="Missing Custom URL scheme"><br>Next, open the <code>AppDelegate.swift</code> file, add your client id to Google Sign In instance.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: <span class="keyword">Any</span>]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().clientID = <span class="string">"YOUR_CLIENT_ID"</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then, open your ViewController where you allow user to sign in with their Google account and implement the two delegate <code>GIDSignInUIDelegate</code> and <code>GIDSignInDelegate</code> from Google Sign in.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">GIDSignInDelegate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sign</span><span class="params">(<span class="number">_</span> signIn: GIDSignIn!, didSignInFor user: GIDGoogleUser!, withError error: Error!)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="number">_</span> = error &#123;</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Authenticate successfully"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sign</span><span class="params">(<span class="number">_</span> signIn: GIDSignIn!, didDisconnectWith user: GIDGoogleUser!, withError error: Error!)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Did disconnect to user"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">GIDSignInUIDelegate</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>Finally, assign Google sign in delegate to your view controller.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupGoogleSignIn</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().delegate = <span class="keyword">self</span></span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().uiDelegate = <span class="keyword">self</span></span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().scopes = [kGTLRAuthScopeDrive]</span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance()?.signInSilently()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You might notice the <code>GIDSignIn.sharedInstance().scopes</code> line of code. This line of code defines which permissions the user grants for your app to access their data when authenticating. In this case, we use the <code>kGTLRAuthScopeDrive</code> scope that allows our app to view and manage all the files in the user’s Google Drive, <em>including team drive</em>. The <code>signInSilently</code> method will attempt to sign in a previously authenticated user silently.</p>
<p>If you do all the above steps properly, you should be able to authenticate your app with Google API.</p>
<div style="height: 450px; margin-top: -50px;"> 
<div style="float: left; width: 50%; padding: 20px;"> 
![](/Post-Resources/GoogleDrive/GoogleSignIn.png "Google Sign in")
</div>
<div style="float: left; width: 50%; padding: 20px;">  
![](/Post-Resources/GoogleDrive/GrantPermission.png "Grant permission")
</div>
</div>

<h2 id="Common-APIs"><a href="#Common-APIs" class="headerlink" title="Common APIs"></a>Common APIs</h2><h3 id="Work-with-“My-Drive”"><a href="#Work-with-“My-Drive”" class="headerlink" title="Work with “My Drive”"></a>Work with “My Drive”</h3><h4 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">search</span><span class="params">(<span class="number">_</span> name: String, onCompleted: @escaping <span class="params">(GTLRDrive_File?, Error?)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">    <span class="keyword">let</span> query = <span class="type">GTLRDriveQuery_FilesList</span>.query()</span><br><span class="line">    query.pageSize = <span class="number">1</span></span><br><span class="line">    query.q = <span class="string">"name contains '\(name)'"</span></span><br><span class="line">    <span class="keyword">self</span>.service.executeQuery(query) &#123; (ticket, results, error) <span class="keyword">in</span></span><br><span class="line">        onCompleted((results <span class="keyword">as</span>? <span class="type">GTLRDrive_FileList</span>)?.files?.first, error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Listing"><a href="#Listing" class="headerlink" title="Listing"></a>Listing</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">listFiles</span><span class="params">(<span class="number">_</span> folderID: String, onCompleted: @escaping <span class="params">(GTLRDrive_FileList?, Error?)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">    <span class="keyword">let</span> query = <span class="type">GTLRDriveQuery_FilesList</span>.query()</span><br><span class="line">    query.pageSize = <span class="number">100</span></span><br><span class="line">    query.q = <span class="string">"'\(folderID)' in parents and mimeType != 'application/vnd.google-apps.folder'"</span></span><br><span class="line">    <span class="keyword">self</span>.service.executeQuery(query) &#123; (ticket, result, error) <span class="keyword">in</span></span><br><span class="line">        onCompleted(result <span class="keyword">as</span>? <span class="type">GTLRDrive_FileList</span>, error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Uploading"><a href="#Uploading" class="headerlink" title="Uploading"></a>Uploading</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">upload</span><span class="params">(<span class="number">_</span> folderID: String, fileName: String, data: Data, MIMEType: String, onCompleted: <span class="params">(<span class="params">(String?, Error?)</span></span></span></span> -&gt; ())?) &#123;</span><br><span class="line">    <span class="keyword">let</span> file = <span class="type">GTLRDrive_File</span>()</span><br><span class="line">    file.name = fileName</span><br><span class="line">    file.parents = [folderID]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> params = <span class="type">GTLRUploadParameters</span>(data: data, mimeType: <span class="type">MIMEType</span>)</span><br><span class="line">    params.shouldUploadWithSingleRequest = <span class="literal">true</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> query = <span class="type">GTLRDriveQuery_FilesCreate</span>.query(withObject: file, uploadParameters: params)</span><br><span class="line">    query.fields = <span class="string">"id"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.service.executeQuery(query, completionHandler: &#123; (ticket, file, error) <span class="keyword">in</span></span><br><span class="line">        onCompleted?((file <span class="keyword">as</span>? <span class="type">GTLRDrive_File</span>)?.identifier, error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Downloading"><a href="#Downloading" class="headerlink" title="Downloading"></a>Downloading</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">(<span class="number">_</span> fileItem: GTLRDrive_File, onCompleted: @escaping <span class="params">(Data?, Error?)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> fileID = fileItem.identifier <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> onCompleted(<span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.service.executeQuery(<span class="type">GTLRDriveQuery_FilesGet</span>.queryForMedia(withFileId: fileID)) &#123; (ticket, file, error) <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data = (file <span class="keyword">as</span>? <span class="type">GTLRDataObject</span>)?.data <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> onCompleted(<span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        onCompleted(data, <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Deleting"><a href="#Deleting" class="headerlink" title="Deleting"></a>Deleting</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">delete</span><span class="params">(<span class="number">_</span> fileItem: GTLRDrive_File, onCompleted: @escaping <span class="params">(<span class="params">(Error?)</span></span></span></span> -&gt; ())) &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> fileID = fileItem.identifier <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> onCompleted(<span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.service.executeQuery(<span class="type">GTLRDriveQuery_FilesDelete</span>.query(withFileId: fileID)) &#123; (ticket, nilFile, error) <span class="keyword">in</span></span><br><span class="line">        onCompleted(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Work-with-“Team-Drive”"><a href="#Work-with-“Team-Drive”" class="headerlink" title="Work with “Team Drive”"></a>Work with “Team Drive”</h3><p>The only thing we need to do in order to work with “Team Drive” is to set the <code>corpora</code> param of the query to <code>teamDrive</code>. By default, the <code>user</code> corpora is applied. That means the query only applied to the folders onwed by the user. By setting to <code>teamDrive</code>, we indicate that the query will affect to team drive of the user. We can combine multiple corpora in a single query if you need to do so.</p>
<h2 id="Final-thoughts"><a href="#Final-thoughts" class="headerlink" title="Final thoughts"></a>Final thoughts</h2><p>Google Drive is an ideal storage to integrate with our applications. In this article, we covered how to config Google Drive API and how to execute common APIs. I hope you learned something today.<br>You can find all the source code demo on my <a href="https://github.com/uynguyen/MyGoogleDrive">Github</a> 🙂</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] Google Developer <a href="https://developers.google.com/drive/api/v3/about-sdk">https://developers.google.com/drive/api/v3/about-sdk</a></p>
</div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9474199d6bcc0012d5bba6&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://ko-fi.com/uynguyen" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="uynguyen.itus@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/05/19/Two-weeks-at-Fossil-Group-in-the-US/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Two weeks at Fossil Group in the US</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/02/07/Play-with-Android-Things/"><span class="level-item">Play with Android Things</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://uynguyen.github.io/2019/02/15/Integrate-Google-Drive-to-iOS-app/';
            this.page.identifier = '2019/02/15/Integrate-Google-Drive-to-iOS-app/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'uynguyen-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen"></figure><p class="title is-size-4 is-block line-height-inherit">Uy Nguyen</p><p class="is-size-6 is-block">Software engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">22</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/uynguyen" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/uynguyen"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/UyNguyen505"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://www.linkedin.com/in/uynguyen505"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://uynguyen.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Uy Nguyen</span></span><span class="level-right"><span class="level-item tag">uynguyen.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-27T13:56:51.000Z">2020-04-27</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/27/Building-your-personal-page-with-Hexo/">Building your personal page with Hexo</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-14T14:25:25.000Z">2020-04-14</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/14/Beta-Test-and-TestFlight/">Beta Test and TestFlight</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-02-26T15:05:30.000Z">2020-02-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/02/26/Review-book-Swift-Apprentice-Raywenderlich/">Review book: Swift Apprentice - Raywenderlich</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-01-30T10:33:16.000Z">2020-01-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/01/30/iOS-Mix-and-Match/">iOS: Mix and Match</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-12-11T14:28:10.000Z">2019-12-11</time></p><p class="title is-6"><a class="link-muted" href="/2019/12/11/Integrate-Google-Sign-In-on-MacOS-App-in-Swift/">Integrate Google Sign In on MacOS App in Swift</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/BLE/"><span class="tag">BLE</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocoa/"><span class="tag">Cocoa</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Concurrency/"><span class="tag">Concurrency</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Conference/"><span class="tag">Conference</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Core-Data/"><span class="tag">Core Data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CoreBluetooh/"><span class="tag">CoreBluetooh</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CrossPlatform/"><span class="tag">CrossPlatform</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design-Patterns/"><span class="tag">Design Patterns</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DispatchQueue/"><span class="tag">DispatchQueue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Memory-management/"><span class="tag">Memory management</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Objective-C/"><span class="tag">Objective-C</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ReactNative/"><span class="tag">ReactNative</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Architecture/"><span class="tag">Software Architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vendor/"><span class="tag">Vendor</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iBeacon/"><span class="tag">iBeacon</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a><p class="size-small"><span>&copy; Uy Nguyen</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://uynguyen.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>