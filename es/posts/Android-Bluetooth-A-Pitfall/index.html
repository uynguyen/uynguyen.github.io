<!doctype html>
<html lang="es"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Android Bluetooth: Una Trampa - Uy Nguyen</title><meta description="Desarrollar aplicaciones Android habilitadas para BLE est谩 lleno de desaf铆os, especialmente cuando se trata de gestionar operaciones concurrentes. Una de las trampas m谩s comunes que enfrentan los des"><meta property="og:type" content="blog"><meta property="og:title" content="Android Bluetooth: Una Trampa"><meta property="og:url" content=":year/:month/:day/:title/"><meta property="og:site_name" content="Uy Nguyen"><meta property="og:description" content="Desarrollar aplicaciones Android habilitadas para BLE est谩 lleno de desaf铆os, especialmente cuando se trata de gestionar operaciones concurrentes. Una de las trampas m谩s comunes que enfrentan los des"><meta property="og:locale" content="es_ES"><meta property="article:published_time" content="2024-08-04T05:10:39.000Z"><meta property="article:modified_time" content="2026-01-26T06:49:48.808Z"><meta property="article:author" content="Uy Nguyen"><meta property="article:tag" content="Android"><meta property="article:tag" content="Bluetooth"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/Post-Resources/BluetoothPitfall/bluetooth_pitfall.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://uynguyen.github.io/es/posts/Android-Bluetooth-A-Pitfall/index.html"},"headline":"Uy Nguyen","image":["https://uynguyen.github.io/Post-Resources/BluetoothPitfall/bluetooth_pitfall.png","https://uynguyen.github.io/Post-Resources/BluetoothPitfall/design.png"],"datePublished":"2024-08-04T05:10:39.000Z","dateModified":"2026-01-26T06:49:48.808Z","author":{"@type":"Person","name":"Uy Nguyen"},"description":"Desarrollar aplicaciones Android habilitadas para BLE est谩 lleno de desaf铆os, especialmente cuando se trata de gestionar operaciones concurrentes. Una de las trampas m谩s comunes que enfrentan los des"}</script><link rel="canonical" href="https://uynguyen.github.io/es/posts/Android-Bluetooth-A-Pitfall/index.html"><link rel="icon" href="/Post-Resources/UyNguyen.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><meta property="og:image" content="/Post-Resources/BluetoothPitfall/bluetooth_pitfall.png"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163508356-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163508356-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><div class="navbar-item has-dropdown is-hoverable language-switcher is-hidden-mobile"><a class="navbar-link" title="Idioma"><i class="fas fa-globe"></i></a><div class="navbar-dropdown is-right"><a class="navbar-item" href="/2024/08/04/Android-Bluetooth-A-Pitfall/">English</a><a class="navbar-item" href="/vi/posts/Android-Bluetooth-A-Pitfall/">Ti岷ng Vi峄t</a><a class="navbar-item is-active" href="/es/posts/Android-Bluetooth-A-Pitfall/">Espa帽ol</a></div></div><a class="navbar-item search is-hidden-mobile" title="Buscar" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><div class="mobile-toolbar is-hidden-tablet"><div class="container"><div class="mobile-toolbar-content"><button class="mobile-toolbar-btn" id="mobile-lang-btn" title="Idioma"><i class="fas fa-globe"></i><span>Espa帽ol</span></button><button class="mobile-toolbar-btn search" title="Buscar"><i class="fas fa-search"></i><span>Buscar</span></button></div></div></div><div class="language-picker-overlay" id="lang-picker-overlay"><div class="language-picker-backdrop"></div><div class="language-picker-modal"><div class="language-picker-header"><span>Idioma</span><button class="language-picker-close" id="lang-picker-close"><i class="fas fa-times"></i></button></div><div class="language-picker-options"><a class="language-picker-option" href="/2024/08/04/Android-Bluetooth-A-Pitfall/"><span class="lang-name">English</span></a><a class="language-picker-option" href="/vi/posts/Android-Bluetooth-A-Pitfall/"><span class="lang-name">Ti岷ng Vi峄t</span></a><a class="language-picker-option is-active" href="/es/posts/Android-Bluetooth-A-Pitfall/"><span class="lang-name">Espa帽ol</span><i class="fas fa-check"></i></a></div></div></div><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"></div></div><h1 class="title is-3 is-size-4-mobile">Android Bluetooth: Una Trampa</h1><div class="content"><p><img src="/Post-Resources/BluetoothPitfall/bluetooth_pitfall.png" alt="" title="Bluetooth"></p>
<p>Desarrollar aplicaciones Android habilitadas para BLE est谩 lleno de desaf铆os, especialmente cuando se trata de gestionar operaciones concurrentes. Una de las trampas m谩s comunes que enfrentan los desarrolladores es el comportamiento inesperado que ocurre cuando intentan ejecutar operaciones BLE en r谩pida sucesi贸n. En esta publicaci贸n de blog, profundizaremos en por qu茅 esto sucede y c贸mo puedes superarlo implementando un mecanismo de cola personalizado para operaciones BLE.</p>
<a id="more"></a>

<p>Si has trabajado con BLE en Android, podr铆as haber encontrado un problema frustrante: cuando intentas ejecutar m煤ltiples operaciones BLE una tras otra, como leer y escribir characteristics o descriptors, solo la primera operaci贸n tiene 茅xito, mientras que las otras parecen desaparecer. Esto es m谩s que un inconveniente menor; es un problema serio porque la l贸gica de tu aplicaci贸n a menudo depende de la finalizaci贸n exitosa de estas operaciones. Sin ellas, tu UI no puede actualizarse con los datos frescos de tu dispositivo conectado, llevando a una mala experiencia de usuario.</p>
<p>Entonces, 驴qu茅 est谩 pasando bajo el cap贸? El problema central est谩 en c贸mo el stack BLE de Android maneja las operaciones. Las operaciones BLE son as铆ncronas, lo que significa que no se completan instant谩neamente. Cuando ejecutas el stack BLE con m煤ltiples solicitudes en r谩pida sucesi贸n, el sistema lucha por mantenerse al d铆a, llevando a operaciones descartadas y comportamiento impredecible.</p>
<h2 id="El-Enfoque-Convencional-Soluciones-Basadas-en-Callbacks"><a href="#El-Enfoque-Convencional-Soluciones-Basadas-en-Callbacks" class="headerlink" title="El Enfoque Convencional: Soluciones Basadas en Callbacks"></a>El Enfoque Convencional: Soluciones Basadas en Callbacks</h2><p>Una forma de mitigar este problema es usando callbacks para secuenciar tus operaciones BLE.<br>Por ejemplo, podr铆as esperar a que el callback onCharacteristicWrite() se dispare antes de comenzar la siguiente operaci贸n. Esto funciona para casos de uso simples donde tus interacciones BLE est谩n limitadas a una sola pantalla o Activity.<br>Sin embargo, este enfoque r谩pidamente se vuelve inmanejable a medida que crece la complejidad de tu aplicaci贸n. A medida que agregas m谩s operaciones BLEcomo leer y escribir descriptors, manejar conexiones y desconexiones, actualizar el MTU y realizar descubrimiento de services. Encontrar谩s que se necesita una soluci贸n m谩s escalable.</p>
<h2 id="La-Solucion-Escalable-Implementando-un-Mecanismo-de-Cola"><a href="#La-Solucion-Escalable-Implementando-un-Mecanismo-de-Cola" class="headerlink" title="La Soluci贸n Escalable: Implementando un Mecanismo de Cola"></a>La Soluci贸n Escalable: Implementando un Mecanismo de Cola</h2><p>Para manejar operaciones BLE de manera m谩s confiable, un mecanismo de cola personalizado es esencial. Al encolar operaciones BLE, aseguras que cada operaci贸n se ejecute secuencialmente, solo despu茅s de que la operaci贸n anterior haya tenido 茅xito o fallado. Este enfoque no solo previene que las operaciones sean descartadas sino que tambi茅n simplifica la gesti贸n de tareas BLE a trav茅s de tu aplicaci贸n.</p>
<p>Aqu铆 hay un esquema b谩sico de c贸mo podr铆as implementar tal mecanismo:</p>
<ul>
<li><code>Crear una Cola</code>: Comienza creando una cola (como un LinkedList o Queue) para contener tus operaciones BLE. Cada operaci贸n puede representarse como un objeto de tarea o comando que contiene los detalles de la operaci贸n que quieres realizar.</li>
<li><code>Manejador de Operaciones</code>: Implementa una clase de manejador o gestor responsable de procesar las operaciones en la cola. Esta clase debe escuchar la finalizaci贸n de cada operaci贸n BLE, ya sea que tenga 茅xito o falle, antes de desencolar y ejecutar la siguiente operaci贸n.</li>
<li><code>Integraci贸n de Callbacks</code>: Modifica tus callbacks BLE existentes (como onCharacteristicWrite(), onCharacteristicRead(), etc.) para disparar el desencolado y ejecuci贸n de la siguiente operaci贸n en la cola.</li>
<li><code>Manejo de Errores</code>: Implementa manejo de errores para asegurar que las operaciones fallidas no bloqueen la cola. Tambi茅n podr铆as querer implementar l贸gica de reintento para errores transitorios.</li>
<li><code>Actualizaciones de UI</code>: Ya que tu UI puede depender del resultado de las operaciones BLE, asegura que tu gestor de cola dispare actualizaciones de UI apropiadas una vez que las operaciones se completen.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BLEManager</span> </span>&#123;</span><br><span class="line">    ConcurrentLinkedQueue&lt;BLEBaseCommand&gt; commandQueue = <span class="keyword">new</span> ConcurrentLinkedQueue&lt;&gt;(); <span class="comment">// Nota que estamos usando una ConcurrentLinkedQueue para prevenir problemas de concurrencia.</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">terminateCommands</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        commandQueue.clear();</span><br><span class="line">        currentCommand = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">enqueueCommand</span><span class="params">(BLEBaseCommand command)</span> </span>&#123;</span><br><span class="line">        commandQueue.offer(command);</span><br><span class="line">        <span class="keyword">if</span> (currentCommand == <span class="keyword">null</span>) &#123;</span><br><span class="line">            executeNextCommand();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">signalCommandEnd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        currentCommand = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (!commandQueue.isEmpty()) &#123; <span class="comment">// 驴Hay comando restante?</span></span><br><span class="line">            executeNextCommand();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">executeNextCommand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        BLEBaseCommand next = commandQueue.poll();</span><br><span class="line">        <span class="keyword">if</span> (next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Todo hecho</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        currentCommand = next;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!currentCommand.execute()) &#123;</span><br><span class="line">                runOnUiThread(currentCommand.fallback); <span class="comment">// Maneja tu error desde la funci贸n `fallback` dependiendo del comando</span></span><br><span class="line">                signalCommandEnd();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            signalCommandEnd();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">runOnUiThread</span><span class="params">(Runnable runnable)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Handler(Looper.getMainLooper()).post(runnable);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>En alg煤n lugar de tu clase <code>BluetoothGattCallback</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onConnectionStateChange</span><span class="params">(BluetoothGatt gatt, <span class="keyword">int</span> status, <span class="keyword">int</span> newState)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceChanged</span><span class="params">(@NonNull BluetoothGatt gatt)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServicesDiscovered</span><span class="params">(BluetoothGatt gatt, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCharacteristicRead</span><span class="params">(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCharacteristicWrite</span><span class="params">(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDescriptorRead</span><span class="params">(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDescriptorWrite</span><span class="params">(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReadRemoteRssi</span><span class="params">(BluetoothGatt gatt, <span class="keyword">int</span> rssi, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMtuChanged</span><span class="params">(BluetoothGatt gatt, <span class="keyword">int</span> mtu, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Tu l贸gica</span></span><br><span class="line">    manager.signalCommandEnd();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>A continuaci贸n est谩 el diagrama de clases b谩sico</p>
<p><img src="/Post-Resources/BluetoothPitfall/design.png" alt="" title="Bluetooth"></p>
<h2 id="Por-Que-Esto-Importa"><a href="#Por-Que-Esto-Importa" class="headerlink" title="Por Qu茅 Esto Importa"></a>Por Qu茅 Esto Importa</h2><p>Implementar un mecanismo de cola para operaciones BLE no se trata solo de evitar operaciones descartadas; se trata de crear una arquitectura m谩s confiable y escalable para tu aplicaci贸n. A medida que expandes la funcionalidad BLE de tu aplicaci贸n, estar谩s agradecido por la estabilidad y previsibilidad que proporciona un sistema de cola.</p>
<p>Vale la pena mencionar que paradigmas m谩s modernos como <code>RxJava</code> o el framework de <code>Kotlin</code> pueden ofrecer soluciones a煤n m谩s elegantes a este problema. Estas herramientas pueden ayudarte a gestionar operaciones as铆ncronas con mayor flexibilidad y menos c贸digo repetitivo. Sin embargo, para muchos desarrolladores, un mecanismo de cola personalizado proporciona una base s贸lida que puede ser f谩cilmente entendida e implementada sin introducir dependencias adicionales. Podr铆amos discutir esto en otro hilo.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusi贸n"></a>Conclusi贸n</h2><p>BLE en Android puede ser desafiante, pero con las estrategias correctas, puedes construir aplicaciones robustas que se comuniquen confiablemente con dispositivos BLE. Al implementar un mecanismo de cola personalizado, puedes superar muchos de los problemas relacionados con la concurrencia. Ya sea que est茅s comenzando con BLE o buscando mejorar tus aplicaciones existentes, adoptar un enfoque de cola har谩 tu proceso de desarrollo m谩s fluido y tus aplicaciones m谩s confiables.<br>隆Feliz Codificaci贸n!</p>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/"></a><a class="link-muted mr-2" rel="tag" href="/"></a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9474199d6bcc0012d5bba6&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://ko-fi.com/uynguyen" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="uynguyen.itus@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><div class="card"><div class="card-content"><h3 class="title is-5">Comentarios</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://uynguyen.github.io/es/posts/Android-Bluetooth-A-Pitfall/index.html';
            this.page.identifier = 'es/posts/Android-Bluetooth-A-Pitfall/index.html';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'uynguyen-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen"></figure><p class="title is-size-4 is-block line-height-inherit">Uy Nguyen</p><p class="is-size-6 is-block">Software engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-envelope mr-1"></i><span>uynguyen.itus@gmail.com</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Entradas</p><a href="/archives"><p class="title">59</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categor铆as</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Etiquetas</p><a href="/tags"><p class="title">36</p></a></div></div></nav><div class="level"><a class="level-item button is-rounded" style="background-color:#f14668e3;color:white;font-weight:bold;" href="https://ko-fi.com/uynguyen" target="_blank" rel="noopener">if  then Buy me a Coffee</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/uynguyen"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://www.linkedin.com/in/uynguyen505"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Enlaces</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://uynguyen.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Uy Nguyen</span></span><span class="level-right"><span class="level-item tag">uynguyen.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recientes</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2026-01-31T03:00:00.000Z">2026-01-31</time></p><p class="title is-6"><a class="link-muted" href="/2026/01/31/Bluetooth-Callback-vs-Reactive-Programming/">Bluetooth Development: Callback vs Reactive Programming</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2025-04-02T11:03:38.000Z">2025-04-02</time></p><p class="title is-6"><a class="link-muted" href="/2025/04/02/Bluetooth-security-Implement-authentication/">Securing Bluetooth Communication: Implementing Authentication and Encryption Flows</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-11-03T03:33:53.000Z">2024-11-03</time></p><p class="title is-6"><a class="link-muted" href="/2024/11/03/iOS-18-What-s-news-in-CoreBluetooth/">iOS 18: What&#039;s news in CoreBluetooth?</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-31T03:38:32.000Z">2024-08-31</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/31/Bluetooth-security-Pairing-and-Bonding/">Bluetooth security: Pairing and Bonding</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-04T05:10:39.000Z">2024-08-04</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/04/Android-Bluetooth-A-Pitfall/">Android Bluetooth: A Pitfall</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Etiquetas</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Appclip/"><span class="tag">Appclip</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BLE/"><span class="tag">BLE</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bluetooth/"><span class="tag">Bluetooth</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Books/"><span class="tag">Books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocoa/"><span class="tag">Cocoa</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Concurrency/"><span class="tag">Concurrency</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Conference/"><span class="tag">Conference</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Core-Data/"><span class="tag">Core Data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CoreBluetooh/"><span class="tag">CoreBluetooh</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CrossPlatform/"><span class="tag">CrossPlatform</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design-Patterns/"><span class="tag">Design Patterns</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DispatchQueue/"><span class="tag">DispatchQueue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Memory-management/"><span class="tag">Memory management</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Notification/"><span class="tag">Notification</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Objective-C/"><span class="tag">Objective-C</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operations/"><span class="tag">Operations</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ReactNative/"><span class="tag">ReactNative</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reactive/"><span class="tag">Reactive</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxJava/"><span class="tag">RxJava</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxSwift/"><span class="tag">RxSwift</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Architecture/"><span class="tag">Software Architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI/"><span class="tag">UI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UIStackView/"><span class="tag">UIStackView</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vendor/"><span class="tag">Vendor</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WatchOS/"><span class="tag">WatchOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web-Bluetooth/"><span class="tag">Web Bluetooth</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iBeacon/"><span class="tag">iBeacon</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a><p class="size-small"><span>&copy; Uy Nguyen</span>Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>&amp;<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("es");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://uynguyen.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Teclea algo..."></div><a class="searchbox-close" href="javascript:;"></a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Teclea algo...","untitled":"(Untitled)","posts":"Entradas","pages":"Pages","categories":"Categor铆as","tags":"Etiquetas"});
        });</script></body></html>