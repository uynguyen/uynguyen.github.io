<!doctype html>
<html lang="es"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Programar tareas en segundo plano desde un servicio en primer plano - Uy Nguyen</title><meta description="Si estas ejecutando tu servicio en Android, ten en cuenta que Android ha introducido restricciones mas estrictas de ejecucion en segundo plano en versiones recientes. A partir de Android 8.0 (nivel d"><meta property="og:type" content="blog"><meta property="og:title" content="Programar tareas en segundo plano desde un servicio en primer plano"><meta property="og:url" content=":year/:month/:day/:title/"><meta property="og:site_name" content="Uy Nguyen"><meta property="og:description" content="Si estas ejecutando tu servicio en Android, ten en cuenta que Android ha introducido restricciones mas estrictas de ejecucion en segundo plano en versiones recientes. A partir de Android 8.0 (nivel d"><meta property="og:locale" content="es_ES"><meta property="article:published_time" content="2023-07-22T14:56:13.000Z"><meta property="article:modified_time" content="2026-01-26T06:49:48.810Z"><meta property="article:author" content="Uy Nguyen"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/Post-Resources/ScheduleTask/banner.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://uynguyen.github.io/es/posts/Schedule-task-in-background-from-foreground-service/index.html"},"headline":"Uy Nguyen","image":["https://uynguyen.github.io/Post-Resources/ScheduleTask/banner.png"],"datePublished":"2023-07-22T14:56:13.000Z","dateModified":"2026-01-26T06:49:48.810Z","author":{"@type":"Person","name":"Uy Nguyen"},"description":"Si estas ejecutando tu servicio en Android, ten en cuenta que Android ha introducido restricciones mas estrictas de ejecucion en segundo plano en versiones recientes. A partir de Android 8.0 (nivel d"}</script><link rel="canonical" href="https://uynguyen.github.io/es/posts/Schedule-task-in-background-from-foreground-service/index.html"><link rel="icon" href="/Post-Resources/UyNguyen.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><meta property="og:image" content="/Post-Resources/ScheduleTask/banner.png"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163508356-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163508356-1');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><div class="navbar-item has-dropdown is-hoverable language-switcher is-hidden-mobile"><a class="navbar-link" title="Idioma"><i class="fas fa-globe"></i></a><div class="navbar-dropdown is-right"><a class="navbar-item" href="/2023/07/22/Schedule-task-in-background-from-foreground-service/">English</a><a class="navbar-item" href="/vi/posts/Schedule-task-in-background-from-foreground-service/">Ti·∫øng Vi·ªát</a><a class="navbar-item is-active" href="/es/posts/Schedule-task-in-background-from-foreground-service/">Espa√±ol</a></div></div><a class="navbar-item search is-hidden-mobile" title="Buscar" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><div class="mobile-toolbar is-hidden-tablet"><div class="container"><div class="mobile-toolbar-content"><button class="mobile-toolbar-btn" id="mobile-lang-btn" title="Idioma"><i class="fas fa-globe"></i><span>Espa√±ol</span></button><button class="mobile-toolbar-btn search" title="Buscar"><i class="fas fa-search"></i><span>Buscar</span></button></div></div></div><div class="language-picker-overlay" id="lang-picker-overlay"><div class="language-picker-backdrop"></div><div class="language-picker-modal"><div class="language-picker-header"><span>Idioma</span><button class="language-picker-close" id="lang-picker-close"><i class="fas fa-times"></i></button></div><div class="language-picker-options"><a class="language-picker-option" href="/2023/07/22/Schedule-task-in-background-from-foreground-service/"><span class="lang-name">English</span></a><a class="language-picker-option" href="/vi/posts/Schedule-task-in-background-from-foreground-service/"><span class="lang-name">Ti·∫øng Vi·ªát</span></a><a class="language-picker-option is-active" href="/es/posts/Schedule-task-in-background-from-foreground-service/"><span class="lang-name">Espa√±ol</span><i class="fas fa-check"></i></a></div></div></div><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"></div></div><h1 class="title is-3 is-size-4-mobile">Programar tareas en segundo plano desde un servicio en primer plano</h1><div class="content"><p><img src="/Post-Resources/ScheduleTask/banner.png" alt="" title="ScheduleTask"></p>
<p>Si estas ejecutando tu servicio en Android, ten en cuenta que Android ha introducido restricciones mas estrictas de ejecucion en segundo plano en versiones recientes. A partir de Android 8.0 (nivel de API 26) y superior, los servicios en segundo plano tienen limitaciones en su tiempo de ejecucion, especialmente cuando la aplicacion esta en segundo plano. Asegurate de conocer estas restricciones y adaptar tu servicio en consecuencia.</p>
<a id="more"></a>

<h2 id="Timer"><a href="#Timer" class="headerlink" title="Timer"></a>Timer</h2><p>Cuando usas <code>Timer</code> para programar tareas, depende de un solo hilo en segundo plano. Si la pantalla se apaga, el dispositivo puede entrar en un estado de bajo consumo o en modo de suspension, y esto puede afectar la ejecucion de tareas programadas con <code>Timer</code>. En tales casos, las caracteristicas de ahorro de energia del dispositivo podrian pausar o retrasar la ejecucion de tareas, llevando a un comportamiento inesperado.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Timer syncTimer = <span class="keyword">new</span> Timer();</span><br><span class="line">syncTimer.scheduleAtFixedRate(<span class="keyword">new</span> TimerTask() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Do your task</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>En mi caso, mi aplicacion necesita programar una tarea repetida en segundo plano para sincronizar datos y verificar si el usuario todavia tiene permiso para acceder al dispositivo Bluetooth. En el primer intento, usamos <code>Timer</code>, y no funciono como se esperaba ya que el <code>Timer</code> no se ejecuta cuando el dispositivo entra en modo doze (El modo Doze es una caracteristica de ahorro de energia introducida en Android 6.0 (Marshmallow) que ayuda a extender la vida de la bateria reduciendo el consumo de energia del dispositivo cuando esta inactivo y no en uso. Optimiza el comportamiento de la aplicacion para minimizar la actividad en segundo plano, el acceso a la red y el uso de CPU durante periodos de inactividad. Cuando un dispositivo esta en modo Doze, restringe el procesamiento en segundo plano, el acceso a la red y los wake locks para ahorrar energia de la bateria.).<br>Por lo tanto, necesitamos encontrar una alternativa, y hay dos otros candidatos que me gustaria compartir contigo: <code>AlarmManager</code> y <code>WorkManager</code>.</p>
<h2 id="Alarm-manager"><a href="#Alarm-manager" class="headerlink" title="Alarm manager"></a>Alarm manager</h2><p>Si necesitas programar tareas que deben ejecutarse incluso cuando la aplicacion no esta activamente en ejecucion, puedes usar la clase <code>AlarmManager</code>. Te permite programar tareas en momentos o intervalos especificos, incluso si tu aplicacion esta en segundo plano o no esta ejecutandose.</p>
<p>La clase <code>AlarmManager</code> en Android es un servicio del sistema que te permite programar tareas o eventos para que se ejecuten en momentos o intervalos especificos, incluso cuando tu aplicacion no esta activamente en ejecucion. Proporciona una forma de realizar acciones o activar la ejecucion de codigo en momentos especificados, como configurar alarmas, programar tareas recurrentes o ejecutar operaciones en segundo plano.</p>
<p>Las caracteristicas clave de <code>AlarmManager</code> incluyen:</p>
<p><strong>Precision de tiempo</strong>: <code>AlarmManager</code> proporciona una sincronizacion precisa para programar tareas. Usa el reloj del sistema del dispositivo para determinar cuando ha transcurrido el tiempo o intervalo especificado.</p>
<p><strong>Flexibilidad en la programacion</strong>: Puedes programar tareas para que se ejecuten una vez (<code>set()</code>), se repitan a intervalos fijos (<code>setRepeating()</code>), o se repitan a intervalos especificos con flexibilidad (<code>setInexactRepeating()</code>). Esta flexibilidad te permite programar tareas segun tus requisitos especificos.</p>
<p><strong>Persistencia de ejecucion</strong>: Las tareas programadas registradas con <code>AlarmManager</code> persisten incluso si el dispositivo se reinicia. Esto asegura que las tareas se ejecutaran segun lo programado incluso despues de reinicios del sistema.</p>
<p><strong>Capacidad de despertar el dispositivo</strong>: <code>AlarmManager</code> puede despertar el dispositivo del modo de suspension para ejecutar las tareas programadas. Esto es util para escenarios donde necesitas realizar operaciones en segundo plano que requieren que el dispositivo este despierto.</p>
<p><strong>Compatibilidad y soporte hacia atras</strong>: <code>AlarmManager</code> ha estado disponible desde las primeras versiones de Android y proporciona compatibilidad hacia atras con versiones anteriores de Android. Esto asegura que tus tareas programadas puedan ejecutarse en una amplia gama de dispositivos.</p>
<p>Aqui hay un ejemplo basico de uso de <code>AlarmManager</code> para programar una tarea:</p>
<ul>
<li>Primero, necesitaras configurar los permisos necesarios en tu archivo <code>AndroidManifest.xml</code>:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name=<span class="string">"android.permission.WAKE_LOCK"</span>/&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Luego, crea una clase para manejar la tarea que se ejecutara cuando se active la alarma, y usala</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAlarmReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Do your task</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MyAlarmReceiver<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">PendingIntent pendingIntent = PendingIntent.getBroadcast(<span class="keyword">this</span>, <span class="number">0</span>, intent, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the AlarmManager service</span></span><br><span class="line">AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set the repeating alarm</span></span><br><span class="line">alarmManager.setRepeating(</span><br><span class="line">    AlarmManager.RTC_WAKEUP,</span><br><span class="line">    System.currentTimeMillis() + ALARM_INTERVAL_MS,</span><br><span class="line">    ALARM_INTERVAL_MS,</span><br><span class="line">    pendingIntent</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="Work-manager"><a href="#Work-manager" class="headerlink" title="Work manager"></a>Work manager</h2><p><code>WorkManager</code> es una biblioteca de Android Jetpack introducida por Google para simplificar y gestionar tareas en segundo plano en aplicaciones Android. Esta disenada para facilitar a los desarrolladores la programacion de tareas diferibles, periodicas y unicas que necesitan ejecutarse incluso cuando la aplicacion no esta en ejecucion o el dispositivo esta en un estado de bajo consumo.</p>
<p>Usando <code>WorkManager</code>, puedes realizar tareas como subir datos a un servidor, sincronizar datos desde un servidor remoto, actualizaciones periodicas de datos, limpieza de base de datos, y mas, mientras aseguras una ejecucion en segundo plano eficiente y amigable con la bateria. Abstrae la complejidad de lidiar con varias versiones de Android y caracteristicas de ahorro de energia, convirtiendola en una solucion poderosa y recomendada para el procesamiento en segundo plano en aplicaciones Android modernas.</p>
<ul>
<li>Primero, abre el archivo <code>build.gradle</code> de tu aplicacion y agrega la dependencia de Guava al bloque de dependencias:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">"androidx.work:work-runtime:2.8.1"</span></span><br><span class="line">implementation <span class="string">'com.google.guava:guava:30.1-android'</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Luego, crea una clase para manejar la tarea que se ejecutara y usala</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SyncDataWorker</span> <span class="keyword">extends</span> <span class="title">Worker</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SyncDataWorker</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            @NonNull Context context,</span></span></span><br><span class="line"><span class="function"><span class="params">            @NonNull WorkerParameters params)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Do your task</span></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// somewhere in your code</span></span><br><span class="line">PeriodicWorkRequest periodicWorkRequest = <span class="keyword">new</span> PeriodicWorkRequest.Builder(</span><br><span class="line">        SyncDataWorker<span class="class">.<span class="keyword">class</span>, <span class="title">TIME_IN_MILLISECONDS</span>, <span class="title">TimeUnit</span>.<span class="title">MILLISECONDS</span>)</span></span><br><span class="line"><span class="class">        .<span class="title">setConstraints</span>(<span class="title">new</span> <span class="title">Constraints</span>.<span class="title">Builder</span>()</span></span><br><span class="line"><span class="class">                .<span class="title">setRequiredNetworkType</span>(<span class="title">NetworkType</span>.<span class="title">CONNECTED</span>) // <span class="title">Set</span> <span class="title">it</span> <span class="title">if</span> <span class="title">your</span> <span class="title">task</span> <span class="title">requires</span> <span class="title">network</span> <span class="title">to</span> <span class="title">be</span> <span class="title">completed</span></span></span><br><span class="line"><span class="class">                .<span class="title">build</span>())</span></span><br><span class="line"><span class="class">        .<span class="title">build</span>()</span>;</span><br><span class="line"></span><br><span class="line">WorkManager.getInstance(context).enqueue(periodicWorkRequest);</span><br></pre></td></tr></table></figure>

<p>Cuando usas <code>WorkManager</code> y la pantalla del dispositivo esta apagada, hay algunas limitaciones y consideraciones a tener en cuenta:</p>
<p><strong>Ejecucion retrasada</strong>: Cuando la pantalla del dispositivo esta apagada, Android puede entrar en estados de bajo consumo como el modo Doze o el modo de espera de aplicaciones para conservar bateria. En estos estados, las tareas en segundo plano, incluyendo las programadas por WorkManager, pueden retrasarse. WorkManager intenta ejecutar tareas durante ventanas de mantenimiento, pero todavia puede haber retrasos en la ejecucion de tareas.</p>
<p><strong>Restricciones de acceso a la red</strong>: Android puede restringir el acceso a la red para tareas en segundo plano cuando la pantalla esta apagada. Si tu tarea depende de la conectividad de red, puede experimentar retrasos o tener acceso limitado a recursos de red. Puedes usar restricciones como <code>setRequiredNetworkType()</code> en WorkManager para especificar requisitos de red para tus tareas.</p>
<p><strong>Limites de ejecucion en segundo plano</strong>: A partir de Android 8.0 (nivel de API 26), Android introdujo limites mas estrictos de ejecucion en segundo plano. Las aplicaciones en segundo plano, incluyendo las que ejecutan tareas en segundo plano programadas por WorkManager, tienen restricciones en su capacidad para ejecutar tareas intensivas en CPU o acceder a ciertos recursos. Aunque WorkManager esta disenado para manejar estas limitaciones y asegurar una ejecucion eficiente de tareas, todavia puede estar sujeto a restricciones impuestas por el sistema operativo.</p>
<p><strong>Comportamiento especifico del dispositivo</strong>: Diferentes dispositivos Android y fabricantes pueden tener sus propias caracteristicas de ahorro de energia u optimizaciones que pueden afectar la ejecucion de tareas en segundo plano cuando la pantalla esta apagada. Estas optimizaciones pueden variar, llevando a diferentes comportamientos y limitaciones. Es importante probar tu aplicacion en varios dispositivos para asegurar un comportamiento consistente.</p>
<p>Para optimizar la ejecucion de tareas en segundo plano cuando la pantalla del dispositivo esta apagada, considera lo siguiente:</p>
<p><strong>Usa restricciones apropiadas</strong>: Especifica restricciones como requisitos de red (<code>setRequiredNetworkType()</code>), estado de carga (<code>setRequiresCharging()</code>), y mas para asegurar que las tareas se ejecuten bajo las condiciones deseadas.</p>
<p><strong>Respeta las optimizaciones de bateria</strong>: Anima a los usuarios a excluir tu aplicacion de las optimizaciones de bateria o ponerla en lista blanca en cualquier configuracion de ahorro de energia en su dispositivo. Esto puede ayudar a asegurar que tu aplicacion y sus tareas en segundo plano no sean excesivamente restringidas.</p>
<p><strong>Optimiza la ejecucion de tareas</strong>: Estructura tus tareas para que sean lo mas eficientes posible, minimizando el impacto en la vida de la bateria y los recursos. Divide las tareas mas grandes en unidades mas pequenas y manejables y considera usar <code>ListenableWorker</code> o <code>CoroutineWorker</code> de WorkManager para mejor rendimiento.</p>
<p>Al considerar estos factores y disenar tus tareas en segundo plano y estrategias de programacion en consecuencia, puedes optimizar su ejecucion incluso cuando la pantalla del dispositivo esta apagada y trabajar dentro de las limitaciones impuestas por el sistema Android.</p>
<h2 id="Cual-usar"><a href="#Cual-usar" class="headerlink" title="Cual usar?"></a>Cual usar?</h2><p>La eleccion entre <code>AlarmManager</code> y <code>WorkManager</code> depende de tu caso de uso especifico y requisitos. Aqui hay algunos factores a considerar al decidir cual es mejor para tus necesidades:</p>
<p><strong>Tiempo y flexibilidad</strong></p>
<ul>
<li><code>AlarmManager</code>: Ofrece una sincronizacion precisa para ejecutar tareas en momentos o intervalos especificos, incluso cuando la aplicacion no esta activamente en ejecucion. <code>AlarmManager</code> es adecuado para tareas criticas en tiempo que requieren una sincronizacion de ejecucion exacta.</li>
<li><code>WorkManager</code>: Proporciona mas flexibilidad y optimizacion para tareas en segundo plano. <code>WorkManager</code> considera factores como optimizaciones de bateria, disponibilidad de red y estado inactivo del dispositivo para ejecutar tareas eficientemente. Es muy adecuado para tareas que no requieren precision estricta de tiempo, como sincronizar datos o actualizaciones periodicas que pueden aceptar algun retraso.</li>
</ul>
<p><strong>Eficiencia energetica y optimizacion de bateria</strong></p>
<ul>
<li><code>AlarmManager</code>: Permite una ejecucion mas inmediata y puede despertar el dispositivo del modo de suspension. Sin embargo, si se usa incorrectamente, puede tener un impacto significativo en la vida de la bateria.</li>
<li><code>WorkManager</code>: Aprovecha las optimizaciones del sistema para minimizar el uso de bateria. <code>WorkManager</code> agrupa tareas, respeta los estados inactivos del dispositivo y se adapta a las caracteristicas de ahorro de energia. Proporciona un enfoque mas eficiente energeticamente para ejecutar tareas en segundo plano.</li>
</ul>
<p><strong>Compatibilidad y soporte hacia atras</strong></p>
<ul>
<li><code>AlarmManager</code>: Ha estado disponible desde las primeras versiones de Android y ofrece compatibilidad hacia atras con versiones anteriores de Android. Puede usarse en una amplia gama de dispositivos Android.</li>
<li><code>WorkManager</code>: Es parte de la biblioteca Android Jetpack y es compatible hacia atras hasta el nivel de API 14 de Android (Ice Cream Sandwich). <code>WorkManager</code> esta disenado para funcionar consistentemente en diferentes versiones y dispositivos Android.</li>
</ul>
<p><strong>Manejo de errores y mecanismo de reintento</strong></p>
<ul>
<li><code>AlarmManager</code>: No proporciona mecanismos integrados para manejar fallos de tareas o reintentos automaticos.</li>
<li><code>WorkManager</code>: <code>WorkManager</code> puede reintentar automaticamente tareas fallidas con restricciones configurables.</li>
</ul>
<p>En general, si necesitas sincronizacion precisa, ejecucion inmediata o la capacidad de despertar el dispositivo del modo de suspension, <code>AlarmManager</code> podria ser la mejor opcion. Por otro lado, si requieres eficiencia energetica, programacion flexible de tareas, manejo de errores y compatibilidad entre diferentes versiones de Android, <code>WorkManager</code> es una opcion mas adecuada.<br>En algunos casos, incluso puedes usar tanto <code>AlarmManager</code> como <code>WorkManager</code> juntos, dependiendo de los requisitos especificos de tu aplicacion. Por ejemplo, puedes usar <code>AlarmManager</code> para tareas sensibles al tiempo y <code>WorkManager</code> para procesamiento en segundo plano eficiente energeticamente.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>En resumen, mientras usar <code>Timer</code> podria llevar a un comportamiento impredecible cuando la pantalla se apaga debido a la ejecucion de un solo hilo y la falta de optimizaciones de ahorro de energia, <code>WorkManager</code> y <code>AlarmManager</code> pueden manejar la ejecucion de tareas de manera mas eficiente y confiable, <strong>incluso cuando la pantalla esta apagada o el dispositivo esta en un estado de bajo consumo</strong>. Para programar tareas en segundo plano, generalmente se recomienda usar <code>WorkManager</code> o <code>AlarmManager</code> en lugar de usar <code>Timer</code>.</p>
</div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9474199d6bcc0012d5bba6&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://ko-fi.com/uynguyen" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="uynguyen.itus@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><div class="card"><div class="card-content"><h3 class="title is-5">Comentarios</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://uynguyen.github.io/es/posts/Schedule-task-in-background-from-foreground-service/index.html';
            this.page.identifier = 'es/posts/Schedule-task-in-background-from-foreground-service/index.html';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'uynguyen-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen"></figure><p class="title is-size-4 is-block line-height-inherit">Uy Nguyen</p><p class="is-size-6 is-block">Software engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-envelope mr-1"></i><span>uynguyen.itus@gmail.com</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Entradas</p><a href="/archives"><p class="title">58</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categor√≠as</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Etiquetas</p><a href="/tags"><p class="title">33</p></a></div></div></nav><div class="level"><a class="level-item button is-rounded" style="background-color:#f14668e3;color:white;font-weight:bold;" href="https://ko-fi.com/uynguyen" target="_blank" rel="noopener">if üëç then Buy me a Coffee</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/uynguyen"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://www.linkedin.com/in/uynguyen505"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Enlaces</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://uynguyen.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Uy Nguyen</span></span><span class="level-right"><span class="level-item tag">uynguyen.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recientes</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2025-04-02T11:03:38.000Z">2025-04-02</time></p><p class="title is-6"><a class="link-muted" href="/2025/04/02/Bluetooth-security-Implement-authentication/">Securing Bluetooth Communication: Implementing Authentication and Encryption Flows</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-11-03T03:33:53.000Z">2024-11-03</time></p><p class="title is-6"><a class="link-muted" href="/2024/11/03/iOS-18-What-s-news-in-CoreBluetooth/">iOS 18: What&#039;s news in CoreBluetooth?</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-31T03:38:32.000Z">2024-08-31</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/31/Bluetooth-security-Pairing-and-Bonding/">Bluetooth security: Pairing and Bonding</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-08-04T05:10:39.000Z">2024-08-04</time></p><p class="title is-6"><a class="link-muted" href="/2024/08/04/Android-Bluetooth-A-Pitfall/">Android Bluetooth: A Pitfall</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2024-06-30T03:48:09.000Z">2024-06-30</time></p><p class="title is-6"><a class="link-muted" href="/2024/06/30/Best-practice-iOS-vs-Android-Bluetooth/">Best practice: iOS vs Android Bluetooth</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Etiquetas</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Appclip/"><span class="tag">Appclip</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BLE/"><span class="tag">BLE</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bluetooth/"><span class="tag">Bluetooth</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Books/"><span class="tag">Books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocoa/"><span class="tag">Cocoa</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Concurrency/"><span class="tag">Concurrency</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Conference/"><span class="tag">Conference</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Core-Data/"><span class="tag">Core Data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CoreBluetooh/"><span class="tag">CoreBluetooh</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CrossPlatform/"><span class="tag">CrossPlatform</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design-Patterns/"><span class="tag">Design Patterns</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DispatchQueue/"><span class="tag">DispatchQueue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Memory-management/"><span class="tag">Memory management</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Notification/"><span class="tag">Notification</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Objective-C/"><span class="tag">Objective-C</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operations/"><span class="tag">Operations</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ReactNative/"><span class="tag">ReactNative</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Architecture/"><span class="tag">Software Architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI/"><span class="tag">UI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UIStackView/"><span class="tag">UIStackView</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vendor/"><span class="tag">Vendor</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WatchOS/"><span class="tag">WatchOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web-Bluetooth/"><span class="tag">Web Bluetooth</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/books/"><span class="tag">books</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iBeacon/"><span class="tag">iBeacon</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">22</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/Post-Resources/UyNguyen.jpg" alt="Uy Nguyen" height="28"></a><p class="size-small"><span>&copy; Uy Nguyen</span>¬†¬†Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>¬†&amp;¬†<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("es");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://uynguyen.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Teclea algo..."></div><a class="searchbox-close" href="javascript:;">√ó</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Teclea algo...","untitled":"(Untitled)","posts":"Entradas","pages":"Pages","categories":"Categor√≠as","tags":"Etiquetas"});
        });</script></body></html>